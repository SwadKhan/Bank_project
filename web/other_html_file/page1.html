<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Page 1</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    



</head>

<body>
   
    <div class="container">
        <h1 class="text-center mb-4">Personal Information Form</h1>
        <form id="form1">
            <div class="row mb-3">
                <div class="col-md-3">
<!--                    <label for="photo" class="form-label">Upload Photo</label>
                    <input type="file" name="photo" class="form-control" id="photo">-->
                    <!-- <img id="preview" src="https://via.placeholder.com/150" alt="Demo Photo" class="mt-3 img-fluid"> -->
                    <img width="64" height="64" src="https://img.icons8.com/pastel-glyph/64/add-male-user.png"
                        alt="add-male-user" />
                </div>
                <div class="col-md-3">
                    <label for="firstName" class="form-label">First Name</label>
                    <input type="text" name="firstName" class="form-control" id="firstName" required>
                </div>
                <div class="col-md-3">
                    <label for="middleName" class="form-label">Middle Name</label>
                    <input type="text" name="middleName" class="form-control" id="middleName">
                </div>
                <div class="col-md-3">
                    <label for="lastName" class="form-label">Last Name</label>
                    <input type="text" name="lastName" class="form-control" id="lastName" required>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="dob" class="form-label">Date of Birth</label>
                    <input type="date" name="Birth" class="form-control" id="dob" required>
                </div>
                <div class="col-md-6">
                    <label for="passport" class="form-label">Passport Number</label>
                    <input type="text" name="passport" class="form-control" id="passport">
                </div>
            </div>
            <div class="row mb-3">
                <div class="col-md-12">
                    <label for="location" class="form-label">Location</label>
                    <input type="text" name="location" class="form-control" id="location">
                </div>
            </div>
            <div class="text-center">
                <button type="button" class="btn btn-primary"
                    onclick="parent.handleFormSubmit('form1', 'page2')">Next</button>

            </div>
        </form>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // Load form data when the page loads
        window.onload = function () {

            // parent.loadFormData('form1');
            formId = 'form1'
            var formData = JSON.parse(localStorage.getItem('formData')) || {};
            var currentTabContentId = 'Customer1';
            var form = $('#' + formId);
            console.log(formData)
            if (!formData[currentTabContentId]) {
                formData[currentTabContentId] = {};
            }
            if (!formData[currentTabContentId][formId]) {
                formData[currentTabContentId][formId] = {};
            }
            console.log("enter");
            // Set the value of the input field based on the form data
            form.find('[name]').each(function () {
                //  $('form [name]').each(function () {
                var fieldName = $(this).attr('name');
                console.log(fieldName);

                if (formData[currentTabContentId][formId][fieldName]) {
                    fieldValue = $(this).val(formData[currentTabContentId][formId][fieldName]);
                    console.log($(this).val(formData[currentTabContentId][formId][fieldName]))
                }
            });


            $('form [name]').on('input', function () {
                var formId = $(this).closest('form').attr('id');
                var fieldName = $(this).attr('name');
                var fieldValue = $(this).val();

                parent.saveFormData(formId, fieldName, fieldValue);
                // parent.toggleDivPortion(formId, "amount");
            });
        };
    </script>
    
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
        crossorigin="anonymous"></script>


</body>

</html>