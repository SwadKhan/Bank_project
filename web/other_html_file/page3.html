<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Page 3</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

</head>

<body>
    <h2>Page 3</h2>
    <form id="form3">
        <label for="address">Address:</label>
        <input type="text" name="address" required><br><br>
        <label for="type">Type:</label>
        <select name="type" required>
            <option value="bg">Birth ID</option>
            <option value="ar">NID</option>
            <option value="ca">Passport ID</option>
        </select><br><br>
        <button type="button" onclick="parent.handleFormSubmit('form4', 'page4')">Next</button>
    </form>

    <script>
        // Load form data when the page loads
        window.onload = function () {

            // parent.loadFormData('form3');

            formId = 'form3'
            var formData = JSON.parse(localStorage.getItem('formData')) || {};
            var currentTabContentId = 'Customer1';
            var form = $('#' + formId);
            console.log(formData)
            if (!formData[currentTabContentId]) {
                formData[currentTabContentId] = {};
            }
            if (!formData[currentTabContentId][formId]) {
                formData[currentTabContentId][formId] = {};
            }
            console.log("enter");
            // Set the value of the input field based on the form data
            form.find('[name]').each(function () {
                //  $('form [name]').each(function () {
                var fieldName = $(this).attr('name');
                console.log(fieldName);

                if (formData[currentTabContentId][formId][fieldName]) {
                    fieldValue = $(this).val(formData[currentTabContentId][formId][fieldName]);
                    console.log($(this).val(formData[currentTabContentId][formId][fieldName]))
                }
            });

            $('form [name]').on('input', function () {
                var formId = $(this).closest('form').attr('id');
                var fieldName = $(this).attr('name');
                var fieldValue = $(this).val();

                parent.saveFormData(formId, fieldName, fieldValue);
                // parent.toggleDivPortion(formId, "amount");
            });
        };
    </script>
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
        crossorigin="anonymous"></script>

</body>

</html>